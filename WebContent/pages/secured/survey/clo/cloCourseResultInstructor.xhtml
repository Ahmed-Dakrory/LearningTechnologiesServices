<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	<ui:composition template="/templates/securedContent.xhtml">
		<ui:define name="title">Course Evaluation - LT Online Services</ui:define>
		<ui:define name="content">
		<style>
		.tdClass {
    padding: 0;
    border: black;
    border-style: solid;
    border-width: 1px;
    width: 139px;
    height: 37px;
    text-align: center;
}
		</style>
		
		
		<style>


/* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
</style>

		#{courseCloBean.refresh()}
			<h:form id="form">
				<p:growl id="growl" showDetail="true" rendered="#{not facesContext.validationFailed}" life="4000"/>
				<ul class="header">
					<li>
						<p:breadCrumb>
							<p:menuitem value="Dashboard" url="/pages/secured/securedHome.xhtml" />
					    	<p:menuitem value="Feedback" />
							<p:menuitem value="Courses CLO Evaluation" disabled="true" />
							<p:menuitem value="Evaluation Results" disabled="true" />
						</p:breadCrumb>
					</li>
				</ul>
				<div class="pannelWrapper">
				
							
							


					<h:panelGroup id="pageContent"  >
						<p:panel id="petitionPanel">
						<p:selectOneMenu style="width:260px" filter="true" filterMatchMode="contains" value="#{courseCloBean.selectedCourse.id}">
						<f:ajax listener="#{courseCloBean.selectTheCourseResults()}" render="form:cloPanel form:surveyPanel"/>
						<f:selectItems value="#{courseCloBean.listOfAllCourses}" var="data" itemLabel="#{data.course_code}" itemValue="#{data.id}" />
						</p:selectOneMenu>
						 
						 
						</p:panel>
						
						
						<div class="tab">
						  <button class="tablinks active" type="button" onclick="openCity(event, 'Course')">Course CLO</button>
						  <button class="tablinks" type="button" onclick="openCity(event, 'Survey')">Survey Results</button>
						</div>



						<div id="Course" class="tabcontent" style="display:block;">
						
						Please fill CLO fields in order
						<br></br>
						<br></br>
						<p:panel id="cloPanel">
						  	<p:panel  rendered="#{courseCloBean.selectedCourse.id!=null}" >
						  	<p:panelGrid columns="2" >
						  		<p:panel>
						  		<p:outputLabel value = "CLO 1"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo1}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 2"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo2}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 3"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo3}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 4"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo4}" />
								</p:panel>
								
								
								<p:panel>
						  		<p:outputLabel value = "CLO 5"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo5}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 6"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo6}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 7"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo7}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 8"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo8}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 9"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo9}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 10"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo10}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 11"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo11}" />
								</p:panel>
								<p:panel>
						  		<p:outputLabel value = "CLO 12"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo12}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 13"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo13}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 14"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo14}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 15"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo15}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 16"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo16}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 17"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo17}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 18"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo18}" />
								</p:panel>
								
								
								
								<p:panel>
						  		<p:outputLabel value = "CLO 19"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo19}" />
								</p:panel>
								
								<p:panel>
						  		<p:outputLabel value = "CLO 20"/>
								<br></br>
								<p:inputTextarea readonly="#{!courseCloBean.changeCLOOpened}" value="#{courseCloBean.selectedCourse.clo20}" />
								</p:panel>
						  	</p:panelGrid>
								
								
								<p:commandButton action="#{courseCloBean.saveCourseClo()}" value="Save"/>
							</p:panel>
							
							</p:panel>
						</div>
						
						<div id="Survey" class="tabcontent">
						  
						 <p:commandButton  value="Export survey results statistics" ajax="false" rendered="#{courseCloBean.showNowForInstructors}"  action="#{courseCloBean.getListOfAllCoursesThreshold()}" style=""></p:commandButton>
						
						
						<p:panel id="surveyPanel" >
						<h:panelGroup rendered="#{courseCloBean.resultsPersonPercntageClo.size()==0}" id="Error" >
								<p:panel style="
    height: 319px;
    text-align: center;
    font-size: 39px;
    padding-top: 179px;
">
None of the students has responded to this course survey yet

</p:panel>
</h:panelGroup>

						<p:panel rendered="#{courseCloBean.selectedCourse.id!=null and courseCloBean.resultsPersonPercntageClo.size()!=0}" >
							<div style="    font-size: larger;    font-weight: 700;    color: #888075;">
								Course Code: #{courseCloBean.selectedCourse.course_code}
								
							</div>
							<br></br>
							<br></br>
							<div style="    font-size: larger;    font-weight: 700;    color: #888075;">
								Course Semester: #{courseCloBean.selectedCourse.semester}
							</div>
							
							<br></br>
							<br></br>
							<div style="    font-size: larger;    font-weight: 700;    color: #888075;">
								Course Year: #{courseCloBean.selectedCourse.year}
							</div>
							
							<br></br>
							<p:panel rendered="#{courseCloBean.selectedCourse.clo1!=null}">
							<br></br>
							<div style="    font-size: 20px;    font-weight: 600;">	Results</div>
									<br></br>
									<table>
									<thead>
									<tr  style="background: darkkhaki;">
										<td class="tdClass" style="background: #c1a570;">
										
										</td>
									<td  class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};" colspan="2 ">
											<div>Excellent</div>
										</td>
										<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};"  colspan="2">
											<div>Very good</div>
										</td>
										<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};"  colspan="2">
											<div>good</div>
										</td>
										<td class="tdClass"  style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};"  colspan="2">
											<div>Fair</div>
										</td>
										<td class="tdClass"  style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};"  colspan="2">
											<div>Needs Improvement</div>
										</td>
										
										<td class="tdClass" >
											<div>Total</div>
										</td>
									</tr>
									</thead>
									<tbody>
									<ui:repeat var="clo" value="#{courseCloBean.resultsPersonPercntageClo}">
										<tr style="display:#{clo.numberOfPersons>0}">
											<td class="tdClass" style="background:#{clo.numberOfPersons>0?'#c1a570':'red'}">
												<div>CLO #{clo.cloNumber}</div>
											</td>
											
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.eachGradeCloPersons[4]} Person</div></td>
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.percentage[4]}%</div></td>
											
											
											
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#dbecf3':'red'}"><div>#{clo.eachGradeCloPersons[3]} Person</div></td>
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#dbecf3':'red'}"><div>#{clo.percentage[3]}%</div></td>
											
										
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.eachGradeCloPersons[2]} Person</div></td>
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.percentage[2]}%</div></td>
											

											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#dbecf3':'red'}"><div>#{clo.eachGradeCloPersons[1]} Person</div></td>
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#dbecf3':'red'}"><div>#{clo.percentage[1]}%</div></td>
											
											
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.eachGradeCloPersons[0]} Person</div></td>
											<td class="tdClass" style="display:#{courseCloBean.showNowForInstructors?'table-cell':'none'};background:#{clo.numberOfPersons>0?'#b9b68a':'red'}"><div>#{clo.percentage[0]}%</div></td>
											
											
											<td class="tdClass" style="background:#{clo.numberOfPersons>0?'#c1a570':'red'}">
												<div>#{clo.numberOfPersons}</div>
											</td>
											
										</tr>
										
										</ui:repeat>
									</tbody>
									</table>
									
							</p:panel>
							
						 </p:panel>
						</p:panel>
						
						
						</div>
						
					
					</h:panelGroup>
				</div>
			</h:form>
			
			
			<script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i &lt; tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i &lt; tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script>
		</ui:define>
	</ui:composition>
</html>
