<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	<ui:composition template="/templates/securedContent.xhtml">
		<ui:define name="title">Course Repeat Form - LT Online Services</ui:define>
		<ui:define name="content">
			<h:form id="form">
				<p:growl id="growl" showDetail="true" rendered="#{not facesContext.validationFailed}" life="4000" />
				<ul class="header">
					<li>
						<p:breadCrumb>
							<p:menuitem value="Dashboard" url="/pages/secured/securedHome.xhtml" />
					    	<p:menuitem value="Petitions" />
							<p:menuitem value="Course Repeat Form" disabled="true" />
						</p:breadCrumb>
					</li>
				</ul>
				
				<p:panel>
				<p:outputPanel style="    padding: 9%;    margin-top: 16px;">
				<!-- #######  YAY, I AM THE SOURCE EDITOR! #########-->
<p style="padding-left: 1%;"><strong>R</strong><strong>EPEATING A </strong><strong>C</strong><strong>OURSE</strong></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* Students may repeat up to five courses, a course repeat form should be submitted for approval to the Dean of Academic Affairs. Failure to obtain prior approval and/or repeating the course in the form of an &ldquo;added&rdquo; course will be subject to penalty, course will be dropped and the tuition will not be refunded.</span></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* Student may repeat a course once for the purpose of improving a grade, based on course availability and resources considerations.</span></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* Students may repeat failed courses up to 3 times, according to the &ldquo;Failed Course Repeat Policy&rdquo; **</span></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* All attempts for the course will be recorded in the student&rsquo;s transcripts. The latest grade will be used for GPA calculation. If the student withdrew from the repeated course, the prior grade will be used for calculation of GPA. However, the student will lose the opportunity for repeating the course. A grade of &ldquo;W&rdquo; will appear in the student&rsquo;s transcripts for the second attempt.</span></p>
<h3 style="padding-left: 1%;"><strong>** Failed Course Repeat Policy:</strong></h3>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* Students are allowed to repeat failed courses for up to three consecutive times.</span></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* F grade isn&rsquo;t removed from the student&rsquo;s transcripts, and if the student passed the course in one of three attempts, only the last awarded grade will be calculated in the GPA. However, all attempts to take the course will appear in the transcripts. Failing grade received for reasons of academic dishonesty will not be subject to repeat.</span></p>
<p style="padding-left: 60px;"><span style="font-weight: 400;">* After failing the course for a third consecutive time, the student may submit a petition to the Dean of Academic Affairs to consider repeating the course for fourth and final time, changing major, or terminating the study program.</span></p>
				</p:outputPanel>
				</p:panel>
				
				
				<div class="pannelWrapper">
					<p:panel id="petitionPanel">
						<p:tabMenu activeIndex="2">
							<p:menuitem value="Pending Petitions" url="/pages/secured/forms/CourseRepeatForm/courseRepeatFormStudent.xhtml"/>
							<p:menuitem value="Old Petitions" url="/pages/secured/forms/CourseRepeatForm/courseRepeatFormStudent1.xhtml"/>
							<p:menuitem value="+ New Petition" title="New Petition" class="new" url="/pages/secured/forms/CourseRepeatForm/courseRepeatFormStudent2.xhtml"
							rendered="#{FormsStatusBean.courseRepeat}"/>
						</p:tabMenu>
						<div class="tabWrapper">
							<h:panelGrid columns="2">
							<!-- 
								<p:outputLabel value="Program" for="majors"/>
								<h:panelGroup class="marginLeft_12">
									<p:selectOneMenu id="majors" value="#{CourseRepeatStudentBean.selectedMajorID}" required="true" requiredMessage="Please select major">
										<f:selectItem itemLabel="Select Program" />
										<f:selectItems var="major" value="#{CourseRepeatStudentBean.majorLst}" itemLabel="#{major.majorName}" itemValue="#{major.id}" />
									</p:selectOneMenu>
									<p:message for="majors" />
								</h:panelGroup>
								 
								 
								<p:outputLabel value="Mobile/Phone" for="mobileNO" />
								<h:panelGroup class="marginLeft_12">
									<p:inputText required="true" id="mobileNO" value="#{CourseRepeatStudentBean.mobileNo}"
									 validatorMessage="Please enter digits only, min 8 and max 11 digits" 
									 requiredMessage="Please enter your mobile" size="40" class="input290px">
										<f:validateDoubleRange />
									 <f:validateLength minimum="8" maximum="11"/>
									</p:inputText>
									<p:message for="mobileNO" />
								</h:panelGroup>
								
								-->
								 
								<p:outputLabel value="Reason for repeating the course" for="reason" />
								<h:panelGroup class="marginLeft_12">
									<p:inputTextarea required="true" requiredMessage="Please enter your reason" id="reason" value="#{CourseRepeatStudentBean.reason}" maxlength="500" validatorMessage="Only 500 Characters allowed" >
									<f:validateLength maximum="500"/>
									</p:inputTextarea>
									<p:message for="reason" />
								</h:panelGroup>		 
							  	<p:outputLabel value="Name of course to be repeated" for="course"/>
							  	
							  	<h:panelGroup>
									<table class="marginLeft_12">
										<tr>
											<td style="padding:0;">
												<p:selectOneMenu required="true" requiredMessage="Please select semester" id="semester" value="#{CourseRepeatStudentBean.selectedSemester}">
													<f:selectItem itemLabel="Select Semester" />
													<f:selectItems var="semester" value="#{CourseRepeatStudentBean.semesterLst}" itemLabel="#{semester.name}" itemValue="#{semester.id}" />
													<p:ajax listener="#{CourseRepeatStudentBean.fillYearLst}" update="year"/>	
												</p:selectOneMenu>
												<p:message for="semester" />
											</td>
											<td width="12">&nbsp;</td>
											<td>
												<p:selectOneMenu required="true" requiredMessage="Please select year" id="year" value="#{CourseRepeatStudentBean.selectedYear}">
													<f:selectItem itemLabel="Select Year" />
													<f:selectItems var="year" value="#{CourseRepeatStudentBean.yearLst}" itemLabel="#{year}" itemValue="#{year}" />
													<p:ajax listener="#{CourseRepeatStudentBean.fillCourseLst}" update="course"/>
												</p:selectOneMenu>
												<p:message for="year" />
											</td>
											<td width="12">&nbsp;</td>
											<td>
												<p:selectOneMenu required="true" requiredMessage="Please select course" id="course" value="#{CourseRepeatStudentBean.selectedCourseID}">
													<f:selectItem itemLabel="Select Course" />
													<f:selectItems var="course" value="#{CourseRepeatStudentBean.coursesLst}" itemLabel="#{course.name}" itemValue="#{course.id}" />
												</p:selectOneMenu>
												<p:message for="course" />
											</td>
										</tr>
									</table>
								</h:panelGroup>
							  	
								<p:outputLabel value="Grade recieved on the first attempt" for="grade" />
								<h:panelGroup class="marginLeft_12">	
									<p:inputText id="grade" value="#{CourseRepeatStudentBean.grade}" required="true" requiredMessage="Please enter your grade" 
									 requsize="40" class="input290px">
									 	
									 		
									 	</p:inputText>	
									<p:message for="grade" />								
								</h:panelGroup>
								 
								<p:outputLabel value="Semester at which it was first taken" for="oldSem" />
								<h:panelGroup class="marginLeft_12">
								<p:selectOneMenu required="true" requiredMessage="Please select semester" id="oldSem" value="#{CourseRepeatStudentBean.selectedOldSem}">
										<f:selectItem itemLabel="Select semester" />
										<f:selectItems var="semester" value="#{CourseRepeatStudentBean.semesters}" itemLabel="#{semester.name}" itemValue="#{semester.id}" />
									</p:selectOneMenu>
									<p:message for="oldSem" />		
								</h:panelGroup>	
							<p:outputLabel value="Semester at which it is repeated" for="newSem" />
								<h:panelGroup class="marginLeft_12">
								<p:selectOneMenu required="true" requiredMessage="Please select semester" id="newSem" value="#{CourseRepeatStudentBean.selectedNewSem}">
										<f:selectItem itemLabel="Select semester" />
										<f:selectItems var="semester" value="#{CourseRepeatStudentBean.semesters}" itemLabel="#{semester.name}" itemValue="#{semester.id}" />
									</p:selectOneMenu>
									<p:message for="newSem" />		
								</h:panelGroup>	
								
							 	<p:outputLabel value="Attachment:"/>
		                        <h:panelGrid columns="3" class="marginLeft_12">
		                         	<p:fileUpload fileUploadListener="#{CourseRepeatStudentBean.upload}" allowTypes="/(\.|\/)(pdf|doc|docx|xls|xlsx|png|jpg|bmp|gif)$/" sizeLimit="500000" update="attachmentFileNameLable attachmentFileRemoveButton" description="Attachment"
										auto="true" mode="advanced" multiple="false" uploadLabel="Upload Attachment" cancelLabel="cancel" />
	                         		<p:outputLabel id="attachmentFileNameLable" value="#{CourseRepeatStudentBean.attachmentFileName}" class="marginLeft_18" />
	                         		<p:commandButton id="attachmentFileRemoveButton" value="remove" action="#{CourseRepeatStudentBean.removeAttachment}" disabled="#{CourseRepeatStudentBean.attachmentFile == null}" ajax="true" class="removeAttach marginLeft_18" process="@this" update="attachmentFileRemoveButton attachmentFileNameLable"/>
	                         	</h:panelGrid>
	                         	<span>&nbsp;</span>
	                         	<h:panelGroup>
	                         		<span class="allowedExt">Allowed file types: .pdf, .doc, .docx, .xls, .xlsx, .png, .jpg, .bmp, .gif <br/> &nbsp; &nbsp; &nbsp;Maximum size: 500KB</span>
	                         	</h:panelGroup>
							</h:panelGrid>
							<br/>
							<p:commandButton value="Submit Request" actionListener="#{CourseRepeatStudentBean.submitForm}" process="@form" ajax="false" class="blueBtn marginLeft_257" /> 
						</div>
					</p:panel>
				</div>
			</h:form>
		</ui:define>
		<ui:define name="confirmDialogBox"></ui:define>
	</ui:composition>
</html>
